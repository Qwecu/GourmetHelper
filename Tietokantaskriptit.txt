CREATE TABLE ingredients (
id SERIAL PRIMARY KEY,
ingredient TEXT,
price NUMERIC(6, 2),
amount NUMERIC(6, 4),
priceperunit NUMERIC GENERATED ALWAYS AS (price / amount) STORED
);

INSERT INTO ingredients (ingredient, price, amount)
VALUES
('pipari', 1.5, 0.3),
('punaiset linssit', 1.4, 0.4),
('punaviini', 14.2, 0.75)
;